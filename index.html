<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>現地投影WebAR</title>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    body { margin:0; height:100vh; overflow:hidden; }
    model-viewer { width:100%; height:100%; }
  </style>
</head>
<body>

<model-viewer id="arModel"
              src="model.glb"       <!-- Windows用GLB -->
              ios-src="model.usdz"  <!-- iPhone用USDZ -->
              ar
              ar-scale="fixed"
              camera-controls
              environment-image="neutral">
</model-viewer>

<script>
  // Pythonで変換済み平面直角→緯度経度の5点
  const points = [
    {name:"P5", lat:35.68464089, lon:139.12069523, alt:376.648},
    {name:"P4", lat:35.68460280, lon:139.12075822, alt:376.755},
    {name:"P3", lat:35.68473552, lon:139.12080450, alt:375.989},
    {name:"P2", lat:35.68471843, lon:139.12060965, alt:376.769},
    {name:"P1", lat:35.68468350, lon:139.12060104, alt:376.647}
  ];

  // WebARでは原点(0,0,0)を代表点P5に対応させる想定
  const origin = points[0];
  console.log("モデル原点 = ", origin);
</script>

</body>
</html>
